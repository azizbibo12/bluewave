<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Blue-Wave Live</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{margin:0;font-family:Arial;background:#0e0e0e;color:#fff;text-align:center}
    header{background:#1f1f1f;padding:10px;font-size:1.2em}
    #tv-container{height:70vh;width:100%}
    button{padding:10px 20px;border:none;border-radius:4px;background:#4caf50;color:#fff;font-size:1em;cursor:pointer}
    #status{margin-top:10px;font-size:0.9em;color:#4caf50}
  </style>
</head>
<body>
  <header>ðŸ“ˆ Blue-Wave Live | BTC-USDT</header>
  <div id="tv-container"></div>
  <button onclick="copyOrders()">ðŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø£ÙˆØ§Ù…Ø±</button>
  <div id="status"></div>

  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    const settings = JSON.parse(localStorage.getItem('bwSettings')) || {};
    const symbol = settings.symbol || 'BINANCE:BTCUSDT.P';

    let lastEntry = 28500, lastSL = 28200, lastTP = 29100, lastDir = 'LONG';

    new TradingView.widget({
      container_id: "tv-container",
      symbol: symbol,
      interval: "5",
      theme: "dark",
      locale: "en",
      toolbar_bg: "#1f1f1f",
      enable_publishing: false,
      studies: ["BlueWave@tv-basicstudies"],
      withdateranges: true,
      show_popup_button: true,
      no_referral_id: true
    });

    function copyOrders() {
      const text = `Direction: ${lastDir}\nEntry: $${lastEntry}\nSL: $${lastSL}\nTP: $${lastTP}`;
      navigator.clipboard.writeText(text).then(() => {
        document.getElementById('status').innerText = 'âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
        setTimeout(() => document.getElementById('status').innerText = '', 2000);
      });
    }

    // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø´Ø§Ø±Ø©
    setTimeout(() => {
      lastDir = Math.random() > 0.5 ? 'LONG' : 'SHORT';
      lastEntry = Math.round(Math.random() * 1000 + 28000);
      lastSL = lastEntry - 300;
      lastTP = lastEntry + 900;
      document.getElementById('status').innerText = `Ø¥Ø´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©: ${lastDir}`;
    }, 4000);
  </script>
</body>
</html>
